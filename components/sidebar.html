<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sidebar Coffee</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
  </head>
  <body class="bg-[#181818]">
    <div
      class="fixed top-0 left-0 h-screen w-[110px] bg-white flex flex-col items-center pt-6 border-r-2 border-[#11603c] shadow-lg"
    >
      <div
        class="font-black italic text-[#11603c] text-3xl mb-10 tracking-wide"
      >
        Coffee
      </div>
      <nav id="sidebar-nav" class="flex flex-col gap-8 w-full items-center">
        <a
          href="#"
          data-index="0"
          class="sidebar-item flex flex-col items-center w-[80px] h-[80px] rounded-2xl py-3 font-bold transition-all duration-200 text-[#11603c] hover:bg-[#e6f2ed] hover:text-[#11603c] cursor-pointer justify-center"
        >
          <i class="fa-solid fa-clipboard-list text-3xl mb-1"></i>
          <span class="italic text-base font-bold mt-1">Order</span>
        </a>
        <a
          href="#"
          data-index="1"
          class="sidebar-item flex flex-col items-center w-[80px] h-[80px] rounded-2xl py-3 font-bold transition-all duration-200 text-[#11603c] hover:bg-[#e6f2ed] hover:text-[#11603c] cursor-pointer justify-center"
        >
          <i class="fa-solid fa-clipboard text-3xl mb-1"></i>
          <span class="italic text-base font-bold mt-1">Menu</span>
        </a>
        <a
          href="#"
          data-index="2"
          class="sidebar-item flex flex-col items-center w-[80px] h-[80px] rounded-2xl py-3 font-bold transition-all duration-200 text-[#11603c] hover:bg-[#e6f2ed] hover:text-[#11603c] cursor-pointer justify-center"
        >
          <i class="fa-solid fa-store text-3xl mb-1"></i>
          <span class="italic text-base font-bold mt-1">Store</span>
        </a>
        <a
          href="#"
          data-index="3"
          class="sidebar-item flex flex-col items-center w-[80px] h-[80px] rounded-2xl py-3 font-bold transition-all duration-200 text-[#11603c] hover:bg-[#e6f2ed] hover:text-[#11603c] cursor-pointer justify-center"
        >
          <i class="fa-solid fa-user text-3xl mb-1"></i>
          <span class="italic text-base font-bold mt-1">Staff</span>
        </a>
        <a
          href="#"
          data-index="4"
          class="sidebar-item flex flex-col items-center w-[80px] h-[80px] rounded-2xl py-3 font-bold transition-all duration-200 text-[#11603c] hover:bg-[#e6f2ed] hover:text-[#11603c] cursor-pointer justify-center"
        >
          <i class="fa-solid fa-warehouse text-3xl mb-1"></i>
          <span class="italic text-base font-bold mt-1">Warehouse</span>
        </a>
      </nav>
    </div>
    <script>
      // filepath: e:\Front-end-CDIO4\components\sidebar.html
      const sidebarItems = document.querySelectorAll(".sidebar-item");
      let activeIndex =
        parseInt(localStorage.getItem("sidebar-active-index")) || 0;
      function setActive(idx) {
        sidebarItems.forEach((item, i) => {
          if (i === idx) {
            item.classList.add("bg-[#11603c]", "text-white", "shadow-md");
            item.classList.remove("text-[#11603c]");
            // Đổi màu icon và chữ sang trắng khi active
            item.querySelector("i").classList.add("text-white");
            item.querySelector("i").classList.remove("text-[#11603c]");
            item.querySelector("span").classList.add("text-white");
            item.querySelector("span").classList.remove("text-[#11603c]");
          } else {
            item.classList.remove("bg-[#11603c]", "text-white", "shadow-md");
            item.classList.add("text-[#11603c]");
            // Đổi màu icon và chữ về xanh khi không active
            item.querySelector("i").classList.remove("text-white");
            item.querySelector("i").classList.add("text-[#11603c]");
            item.querySelector("span").classList.remove("text-white");
            item.querySelector("span").classList.add("text-[#11603c]");
          }
        });
      }
      setActive(activeIndex);
      sidebarItems.forEach((item, idx) => {
        item.addEventListener("click", function (e) {
          e.preventDefault();
          setActive(idx);
          localStorage.setItem("sidebar-active-index", idx);
        });
      });
    </script>
  </body>
</html>
